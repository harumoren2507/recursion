#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <unistd.h>

int main(void)
{
    int min;
    int max;
    int target;
    int guess;

    srand(time(NULL));
    write(1, "最小数を入力してください: ", 39);
    scanf("%d", &min);

    write(1, "最大数を入力してください: ", 39);
    scanf("%d", &max);

    if (min >= max)
    {
        write(1, "最小数は最大数より小さくなければなりません。\n", 68);
        return (1);
    }
    target = rand()%(max - min + 1) + min;

    write(1, "数を当ててみてください。\n", 38);

    while (1)
    {
        write(1, "あなたの予想: ", 21);
        scanf("%d", &guess);

        if (guess < target)
            write(1, "もっと大きい数です。", 31);
        else if (guess > target)
            write(1, "もっと小さい数です。", 31);
        else if (guess == target)
        {
            write(1, "正解です！", 16);
            return (0);
        }
    }
}

/*
*rand() % 4 がどうして0から3までのランダムな整数を生成できるのか、その仕組みを説明するね。

まず、rand()関数はランダムな整数を生成するけど、
この数は0からとても大きな数（RAND_MAX）までの範囲のどれかになります。

そして、%（剰余演算子）を使って、そのランダムな数を特定の数で割った余りを求めているんだ。

*剰余演算子 % の役割
剰余演算子 % は、ある数を別の数で割った時の余りを求めるために使います。
例えば、10 % 3 は10を3で割った余り、つまり 1 になります。

*rand() % 4 の計算方法
rand() % 4 の場合、rand() によって生成されるランダムな数を4で割った時の余りを求めることになります。
この計算で出てくる余りは0から3までの数になるんだ。

なぜなら、どんな数でも4で割ると、余りは0、1、2、または3にしかならないから。

例えば、8を4で割ると余りは0。
9を4で割ると余りは1。
10を4で割ると余りは2。
11を4で割ると余りは3。
そして、12を4で割るとまた余りは0に戻る。
このルールを使って、rand() がどんな大きな数を出しても、
その数を4で割った余りは必ず0から3のいずれかになります。
これが、rand() % 4 が0から3までの範囲でランダムな整数を生成できる理由です。

イメージをつかむ
これをイメージする簡単な方法は、数直線上に0から始まる4つのブロック（0, 1, 2, 3）を考えることです。
rand() がどんな数を出しても、それを4で区切ったブロックに割り当てることができるのです。
そして、そのブロックの番号が結果として出るランダムな数になるわけです。


このようにして、rand() % 4 はランダムな整数を特定の範囲（この場合は0から3）内で生成することができるんだよ。
*/